<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="4.0">
  <!-- DEFAULT PROPERTY GROUP VALUES FOR ALL SERVICES (Do not put conditional logic in here) -->
  <PropertyGroup Label="Standard">
    <RootDir>$(MSBuildProjectDirectory)</RootDir>
    <MBuildDir>$(RootDir)\..\build</MBuildDir>
    <DeployPath>$(MSBuildProjectDirectory)\</DeployPath>
    <ReportsLitePath>$(RootDir)\..\</ReportsLitePath>
    <Region>UK</Region>
    <Environment>DEV</Environment>
    <Revision>-1</Revision>
    <ReleaseNumber>0</ReleaseNumber>
    <MigrationSourceDatabaseName>MigrationSource</MigrationSourceDatabaseName>
    <MigrationStagingDatabaseName>MigrationStaging</MigrationStagingDatabaseName>
    <DashboardUser>WONGA\didashboardrptuser</DashboardUser>
    <!-- vsdbcmd connection string server data source -->
    <DeployToServer>localhost</DeployToServer>
    <!-- linked server name -->
    <!-- <WongaWholeStagingLinkedServerName>WongaWholeStaging</WongaWholeStagingLinkedServerName> -->
    <!-- linked server (target server) data source -->
    <!-- <WongaWholeStagingServerDataSrc>localhost</WongaWholeStagingServerDataSrc> -->
    <!-- Local SQL Server Name -->
    <LocalSQLServerName>$(COMPUTERNAME)</LocalSQLServerName>
    <WongaWholeStagingDatabaseName>WongaWholeStagingV2</WongaWholeStagingDatabaseName>
    <!-- vsdbcmd deploy generated sql script to db -->
    <DeployDatabase>+</DeployDatabase>
    <DeployTo Condition="'$(DeployTo)'==''">DEV</DeployTo>
    <SSRSMSBuildTasksLibrary>ssrsmsbuildtasks.dll</SSRSMSBuildTasksLibrary>
    <SSRSMSBuildTasksPath>$(DeployPath)..\lib\SSRSBuildTasks\$(SSRSMSBuildTasksLibrary)</SSRSMSBuildTasksPath>
    <SQLAgentJobProxy>DBBackupManager</SQLAgentJobProxy>
    <BiRunTimeMigrationExecutionPath>\\$(DeployToServer)\D$\BiRunTime\Packages\Migration\</BiRunTimeMigrationExecutionPath>
    <BiRunTimePackagesPath>D:\BiRunTime\Packages\Migration\</BiRunTimePackagesPath>
    <BiRunTimePackagesLogsPath>\\$(DeployToServer)\D$\BiRunTime\Packages\Logs\</BiRunTimePackagesLogsPath>
    <MigrationJobExecutorName>SSIS_Execute_MigrationRun</MigrationJobExecutorName>
    <JobCheckWaitSeconds>5</JobCheckWaitSeconds>
  
</PropertyGroup>

  <PropertyGroup Label="Lite">
    <!-- linked server name -->
    <WongaWholeStagingLiteServer>WongaWholeStagingLite</WongaWholeStagingLiteServer>
    <!-- linked server (target server) data source -->
    <WongaWholeStagingLiteServerDs>localhost</WongaWholeStagingLiteServerDs>
    <!-- linked server (target) database -->
    <WongaWholeStagingLiteDatabase>WongaWholeStagingLite</WongaWholeStagingLiteDatabase>
  </PropertyGroup>

  <!-- Environment specific logic/overrides -->
  <Choose>
    <When Condition="'$(DeployTo)'=='DEV'">
      <PropertyGroup >
        <DashboardUser>WONGA\didashboardrptuser</DashboardUser>
        <LocalSQLServerName>$(COMPUTERNAME)</LocalSQLServerName>
        <WongaWholeStagingDatabaseName>WongaWholeStagingV2</WongaWholeStagingDatabaseName>
        <ReleaseNumber>1000</ReleaseNumber>
        <BiRunTimeMigrationExecutionPath>\\$(DeployToServer)\D$\BiRunTime\Packages\Migration\</BiRunTimeMigrationExecutionPath>
        <BiRunTimePackagesPath>D:\BiRunTime\Packages\Migration\</BiRunTimePackagesPath>
        <BiRunTimePackagesLogsPath>\\$(DeployToServer)\D$\BiRunTime\Packages\Logs\</BiRunTimePackagesLogsPath>
      </PropertyGroup>
    </When>
    <When Condition="'$(DeployTo)'=='WIP'">
      <PropertyGroup>
        <Environment>WIP</Environment>
        <DashboardUser>WONGA\didashboardrptuser</DashboardUser>
        <!-- vsdbcmd connection string server data source -->
        <DeployToServer>DEV-MIGDBSRV02</DeployToServer>
        <LocalSQLServerName>DEV-MIGDBSRV02</LocalSQLServerName>
        <WongaWholeStagingDatabaseName>WongaWholeStagingV2</WongaWholeStagingDatabaseName>
        <ReleaseNumber>1000</ReleaseNumber>
        <BiRunTimeMigrationExecutionPath>\\$(DeployToServer)\F$\BiRunTime\Packages\Migration\</BiRunTimeMigrationExecutionPath>
        <BiRunTimePackagesPath>F:\BiRunTime\Packages\Migration\</BiRunTimePackagesPath>
        <BiRunTimePackagesLogsPath>\\$(DeployToServer)\F$\BiRunTime\Packages\Logs\</BiRunTimePackagesLogsPath>
      </PropertyGroup>
    </When>
    <When Condition="'$(DeployTo)'=='RC'">
      <PropertyGroup>
        <Environment>RC</Environment>
        <DashboardUser>WONGA\didashboardrptuser</DashboardUser>
        <!-- vsdbcmd connection string server data source -->
        <DeployToServer>MIG-INT-V2.preprod.wonga.global</DeployToServer>
        <LocalSQLServerName>MIG-INT-V2</LocalSQLServerName>
        <WongaWholeStagingDatabaseName>WongaWholeStagingV2</WongaWholeStagingDatabaseName>
        <ReleaseNumber>1000</ReleaseNumber>
        <BiRunTimeMigrationExecutionPath>\\$(DeployToServer)\V$\BiRunTime\Packages\Migration\</BiRunTimeMigrationExecutionPath>
        <BiRunTimePackagesPath>V:\BiRunTime\Packages\Migration\</BiRunTimePackagesPath>
        <BiRunTimePackagesLogsPath>\\$(DeployToServer)\V$\BiRunTime\Packages\Logs\</BiRunTimePackagesLogsPath>
      </PropertyGroup>
    </When>
    <When Condition="'$(DeployTo)'=='PREPROD'">
      <PropertyGroup>
        <Environment>PREPROD</Environment>
        <DashboardUser>WONGA\didashboardrptuser</DashboardUser>
        <!-- vsdbcmd connection string server data source -->
        <DeployToServer>UK-PREPROD-V3DB.preprod.wonga.global</DeployToServer>
        <LocalSQLServerName>UK-PREPROD-V3DB</LocalSQLServerName>
        <WongaWholeStagingDatabaseName>WongaWholeStagingV2</WongaWholeStagingDatabaseName>
        <ReleaseNumber>1000</ReleaseNumber>
        <BiRunTimeMigrationExecutionPath>\\$(DeployToServer)\T$\BiRunTime\Packages\Migration\</BiRunTimeMigrationExecutionPath>
        <BiRunTimePackagesPath>T:\BiRunTime\Packages\Migration\</BiRunTimePackagesPath>
        <BiRunTimePackagesLogsPath>\\$(DeployToServer)\T$\BiRunTime\Packages\Logs\</BiRunTimePackagesLogsPath>
      </PropertyGroup>
    </When>
    <When Condition="'$(DeployTo)'=='LIVE'">
      <PropertyGroup>
        <Environment>LIVE</Environment>
        <DashboardUser>WONGA\didashboardrptuser</DashboardUser>
        <!-- vsdbcmd connection string server data source -->
        <DeployToServer>DB02.wonga.global</DeployToServer>
        <LocalSQLServerName>DB02</LocalSQLServerName>
        <WongaWholeStagingDatabaseName>WongaWholeStagingV2</WongaWholeStagingDatabaseName>
        <ReleaseNumber>1000</ReleaseNumber>
        <BiRunTimeMigrationExecutionPath>\\$(DeployToServer)\T$\BiRunTime\Packages\Migration\</BiRunTimeMigrationExecutionPath>
        <BiRunTimePackagesPath>T:\BiRunTime\Packages\Migration\</BiRunTimePackagesPath>
        <BiRunTimePackagesLogsPath>\\$(DeployToServer)\T$\BiRunTime\Packages\Logs\</BiRunTimePackagesLogsPath>
      </PropertyGroup>
    </When>
  </Choose>

</Project>
